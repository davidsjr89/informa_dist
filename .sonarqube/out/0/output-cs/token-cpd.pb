àY
^c:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Controllers\HomeController.cs
	namespace		 	
Usuario		
 
.		 
API		 
.		 
Controllers		 !
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
HomeController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IRepositorioUsuario ,
_repositorioUsuario- @
;@ A
public 
HomeController 
( 
IRepositorioUsuario 1
repositorioUsuario2 D
)D E
{ 	
_repositorioUsuario 
=  !
repositorioUsuario" 4
??5 7
throw8 =
new> A
SystemB H
.H I!
ArgumentNullExceptionI ^
(^ _
nameof_ e
(e f
repositorioUsuariof x
)x y
)y z
;z {
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
ActionResult &
<& '
dynamic' .
>. /
>/ 0
BuscarPorId1 <
(< =
int= @
idA C
)C D
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
NotFound% -
(- .
new. 1
{2 3
message4 ;
=< =
$str> e
}f g
)g h
;h i
var 
user 
= 
await 
_repositorioUsuario 0
.0 1
BuscarPorId1 <
(< =
id= ?
)? @
;@ A
if 
( 
user 
== 
null 
) 
return $
NotFound% -
(- .
new. 1
{2 3
message4 ;
=< =
$str> Z
}[ \
)\ ]
;] ^
return 
user 
; 
} 	
[!! 	
HttpGet!!	 
]!! 
["" 	
Route""	 
("" 
$str"" 
)"" 
]"" 
public## 
async## 
Task## 
<## 
ActionResult## &
<##& '
dynamic##' .
>##. /
>##/ 0
Lista##1 6
(##6 7
)##7 8
{$$ 	
if%% 
(%% 
!%% 

ModelState%% 
.%% 
IsValid%% #
)%%# $
NotFound%%% -
(%%- .
new%%. 1
{%%2 3
message%%4 ;
=%%< =
$str%%> e
}%%f g
)%%g h
;%%h i
var&& 
listaUsuario&& 
=&& 
await&& $
_repositorioUsuario&&% 8
.&&8 9
ListaUsuario&&9 E
(&&E F
)&&F G
;&&G H
if(( 
((( 
listaUsuario(( 
==(( 
null((  $
)(($ %
return((& ,
NotFound((- 5
(((5 6
new((6 9
{((: ;
message((< C
=((D E
$str((F b
}((c d
)((d e
;((e f
return** 
listaUsuario** 
.**  
ToList**  &
(**& '
)**' (
;**( )
}++ 	
[-- 	
HttpPost--	 
]-- 
[.. 	
Route..	 
(.. 
$str.. 
).. 
].. 
public// 
async// 
Task// 
<// 
ActionResult// &
<//& '
dynamic//' .
>//. /
>/// 0
Login//1 6
(//6 7
	UserLogin//7 @
model//A F
)//F G
{00 	
if11 
(11 
!11 

ModelState11 
.11 
IsValid11 #
)11# $
NotFound11% -
(11- .
new11. 1
{112 3
message114 ;
=11< =
$str11> e
}11f g
)11g h
;11h i
var22 
user22 
=22 
await22 
_repositorioUsuario22 0
.220 1
Login221 6
(226 7
model227 <
.22< =
Nome22= A
,22A B
model22C H
.22H I
Senha22I N
)22N O
;22O P
if44 
(44 
user44 
==44 
null44 
)44 
return44 $
NotFound44% -
(44- .
new44. 1
{442 3
message444 ;
=44< =
$str44> Z
}44[ \
)44\ ]
;44] ^
var66 
token66 
=66 
TokenService66 $
.66$ %
GenerateToken66% 2
(662 3
user663 7
)667 8
;668 9
var77 
	UserToken77 
=77 
new77 
	UserToken77  )
{77* +
User77, 0
=771 2
user773 7
,777 8
Token779 >
=77? @
token77A F
}77G H
;77H I
return88 
	UserToken88 
;88 
}99 	
[;; 	
HttpPost;;	 
];; 
[<< 	
Route<<	 
(<< 
$str<< 
)<< 
]<< 
[== 	
	Authorize==	 
(== 
Roles== 
=== 
$str== *
)==* +
]==+ ,
public>> 
async>> 
Task>> 
<>> 
ActionResult>> &
<>>& '
dynamic>>' .
>>>. /
>>>/ 0
	Cadastrar>>1 :
(>>: ;
User>>; ?
model>>@ E
)>>E F
{?? 	
if@@ 
(@@ 
!@@ 

ModelState@@ 
.@@ 
IsValid@@ #
)@@# $
return@@% +
NotFound@@, 4
(@@4 5
new@@5 8
{@@9 :
message@@; B
=@@C D
$str@@E l
}@@m n
)@@n o
;@@o p
varAA 
userAA 
=AA 
awaitAA 
_repositorioUsuarioAA 0
.AA0 1
BuscarPorNomeAA1 >
(AA> ?
modelAA? D
.AAD E
NomeAAE I
)AAI J
;AAJ K
ifCC 
(CC 
userCC 
==CC 
nullCC 
)CC 
{DD 
varEE 
respostaEE 
=EE 
awaitEE $
_repositorioUsuarioEE% 8
.EE8 9
CadastrarUsuarioEE9 I
(EEI J
modelEEJ O
)EEO P
;EEP Q
varFF 
tokenFF 
=FF 
TokenServiceFF (
.FF( )
GenerateTokenFF) 6
(FF6 7
modelFF7 <
)FF< =
;FF= >
respostaGG 
.GG 
SenhaGG 
=GG  
$strGG! #
;GG# $
varHH 
	UserTokenHH 
=HH 
newHH  #
	UserTokenHH$ -
{HH. /
UserHH0 4
=HH5 6
respostaHH7 ?
,HH? @
TokenHHA F
=HHG H
tokenHHI N
}HHO P
;HHP Q
returnII 
CreatedII 
(II 
$strII !
,II! "
	UserTokenII# ,
)II, -
;II- .
}JJ 
returnKK 
NotFoundKK 
(KK 
newKK 
{KK  !
messageKK" )
=KK* +
$strKK, U
}KKV W
)KKW X
;KKX Y
}LL 	
[NN 	

HttpDeleteNN	 
]NN 
[OO 	
RouteOO	 
(OO 
$strOO 
)OO 
]OO 
[PP 	
	AuthorizePP	 
(PP 
RolesPP 
=PP 
$strPP *
)PP* +
]PP+ ,
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
ActionResultQQ &
<QQ& '
dynamicQQ' .
>QQ. /
>QQ/ 0
DeletarQQ1 8
(QQ8 9
intQQ9 <
idQQ= ?
)QQ? @
{RR 	
ifSS 
(SS 
!SS 

ModelStateSS 
.SS 
IsValidSS "
)SS" #
returnSS$ *
NotFoundSS+ 3
(SS3 4
newSS4 7
{SS8 9
messageSS: A
=SSB C
$strSSD k
}SSl m
)SSm n
;SSn o
varTT 
userTT 
=TT 
awaitTT 
_repositorioUsuarioTT 0
.TT0 1
BuscarPorIdTT1 <
(TT< =
idTT= ?
)TT? @
;TT@ A
ifVV 
(VV 
userVV 
==VV 
nullVV 
)VV 
returnVV $
NotFoundVV% -
(VV- .
newVV. 1
{VV2 3
messageVV4 ;
=VV< =
$strVV> S
}VVT U
)VVU V
;VVV W
varXX 
respostaXX 
=XX 
awaitXX  
_repositorioUsuarioXX! 4
.XX4 5
DeletarUsuarioXX5 C
(XXC D
userXXD H
)XXH I
;XXI J
returnZZ 
OkZZ 
(ZZ 
respostaZZ 
)ZZ 
;ZZ  
}[[ 	
[]] 	
HttpPut]]	 
]]] 
[^^ 	
Route^^	 
(^^ 
$str^^ 
)^^  
]^^  !
[__ 	
	Authorize__	 
(__ 
Roles__ 
=__ 
$str__ *
)__* +
]__+ ,
public`` 
async`` 
Task`` 
<`` 
ActionResult`` &
<``& '
dynamic``' .
>``. /
>``/ 0
	Atualizar``1 :
(``: ;
int``; >
id``? A
,``A B
User``C G
model``H M
)``M N
{aa 	
ifbb 
(bb 
!bb 

ModelStatebb 
.bb 
IsValidbb #
)bb# $
returnbb% +
NotFoundbb, 4
(bb4 5
newbb5 8
{bb9 :
messagebb; B
=bbC D
$strbbE l
}bbm n
)bbn o
;bbo p
varcc 
usercc 
=cc 
awaitcc 
_repositorioUsuariocc 0
.cc0 1
BuscarPorIdcc1 <
(cc< =
idcc= ?
)cc? @
;cc@ A
ifee 
(ee 
useree 
==ee 
nullee 
)ee 
returnee $
NotFoundee% -
(ee- .
newee. 1
{ee2 3
messageee4 ;
=ee< =
$stree> S
}eeT U
)eeU V
;eeV W
modelff 
.ff 
Idff 
=ff 
userff 
.ff 
Idff 
;ff 
vargg 
respostagg 
=gg 
awaitgg  
_repositorioUsuariogg! 4
.gg4 5
AtualizarUsuariogg5 E
(ggE F
modelggF K
)ggK L
;ggL M
returnii 
Okii 
(ii 
respostaii 
)ii 
;ii  
}jj 	
}kk 
}ll ‘	
Tc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Data\DataContext.cs
	namespace 	
Usuario
 
. 
API 
. 
Data 
{ 
public 

class 
DataContext 
: 
	DbContext '
{ 
public 
DataContext 
( 
DbContextOptions +
options, 3
)3 4
:5 6
base7 ;
(; <
options< C
)C D
{E F
}G H
public		 
DbSet		 
<		 
User		 
>		 
Usuarios		 #
{		$ %
get		& )
;		) *
set		+ .
;		. /
}		0 1
public

 
DataContext

 
(

 
)

 
{

 
}

 
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
} 	
} 
} ˛
Oc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Models\User.cs
	namespace 	
Usuario
 
. 
API 
. 
Models 
{ 
public 

class 
User 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[		 	
Required			 
(		 
ErrorMessage		 
=		  
$str		! <
)		< =
]		= >
[

 	
StringLength

	 
(

 
$num

 
,

 
ErrorMessage

 &
=

' (
$str

) ]
,

] ^
MinimumLength

_ l
=

m n
$num

o p
)

p q
]

q r
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage &
=' (
$str) ]
,] ^
MinimumLength_ l
=m n
$numo q
)q r
]r s
public 
string 
Cpf 
{ 
get 
;  
set! $
;$ %
}& '
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
[ 	
EmailAddress	 
( 
ErrorMessage "
=# $
$str% K
)K L
]L M
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage &
=' (
$str) ]
,] ^
MinimumLength_ l
=m n
$numo p
)p q
]q r
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage &
=' (
$str) ]
,] ^
MinimumLength_ l
=m n
$numo p
)p q
]q r
public 
string 
Senha 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage &
=' (
$str) ]
,] ^
MinimumLength_ l
=m n
$numo p
)p q
]q r
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
} 
} Å	
Tc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Models\UserLogin.cs
	namespace 	
Usuario
 
. 
API 
. 
Models 
{ 
public 

class 
	UserLogin 
{ 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
[

 	
Required

	 
(

 
ErrorMessage

 
=

  
$str

! <
)

< =
]

= >
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* ^
,^ _
MinimumLength` m
=n o
$nump q
)q r
]r s
public 
string 
Senha 
{ 
get !
;! "
set# &
;& '
}( )
} 
} Ë
Tc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Models\UserToken.cs
	namespace 	
Usuario
 
. 
API 
. 
Models 
{ 
public 

class 
	UserToken 
{ 
public 
User 
User 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Token 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ¿

Kc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Program.cs
	namespace 	
Usuario
 
. 
API 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{		 	
CreateHostBuilder

 
(

 
args

 "
)

" #
.

# $
Build

$ )
(

) *
)

* +
.

+ ,
Run

, /
(

/ 0
)

0 1
;

1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} Î
dc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Repositories\IRepositorioUsuario.cs
	namespace 	
Usuario
 
. 
API 
. 
Repositories "
{ 
public 

	interface 
IRepositorioUsuario (
{ 
Task		 
<		 
IList		 
<		 
User		 
>		 
>		 
ListaUsuario		 &
(		& '
)		' (
;		( )
Task

 
<

 
User

 
>

 
Login

 
(

 
string

 
usuario

  '
,

' (
string

) /
senha

0 5
)

5 6
;

6 7
Task 
< 
User 
> 
BuscarPorId 
( 
int "
id# %
)% &
;& '
Task 
< 
User 
> 
BuscarPorNome  
(  !
string! '
nome( ,
), -
;- .
Task 
< 
User 
> 
AtualizarUsuario #
(# $
User$ (
usuario) 0
)0 1
;1 2
Task 
< 
User 
> 
CadastrarUsuario #
(# $
User$ (
usuario) 0
)0 1
;1 2
Task 
< 
User 
> 
DeletarUsuario !
(! "
User" &
usuario' .
). /
;/ 0
} 
} É3
cc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Repositories\RepositorioUsuario.cs
	namespace

 	
Usuario


 
.

 
API

 
.

 
Repositories

 "
{ 
public 

class 
RepositorioUsuario #
:$ %
IRepositorioUsuario& 9
{ 
private 
readonly 
DataContext $
_context% -
;- .
public 
RepositorioUsuario !
(! "
DataContext" -
context. 5
)5 6
{ 	
_context 
= 
context 
?? !
throw" '
new( +!
ArgumentNullException, A
(A B
nameofB H
(H I
contextI P
)P Q
)Q R
;R S
} 	
public 
async 
Task 
< 
User 
> 
AtualizarUsuario  0
(0 1
User1 5
usuario6 =
)= >
{ 	
usuario 
. 
Senha 
= 
Settings $
.$ %
Criptografia% 1
(1 2
usuario2 9
.9 :
Senha: ?
)? @
;@ A
_context 
. 
Update 
( 
usuario #
)# $
;$ %
return 
_context 
. 
SaveChangesAsync ,
(, -
)- .
.. /
Result/ 5
>6 7
$num8 9
?: ;
usuario< C
:D E
nullF J
;J K
} 	
public 
async 
Task 
< 
User 
> 
BuscarPorId  +
(+ ,
int, /
id0 2
)2 3
{ 	
var 
user 
= 
await  
_context! )
.) *
Usuarios* 2
.2 3
AsNoTracking3 ?
(? @
)@ A
.A B
WhereB G
(G H
xH I
=>J L
xM N
.N O
IdO Q
==R T
idU W
)W X
.X Y
FirstOrDefaultAsyncY l
(l m
)m n
;n o
return   
user   
??   
null   #
;  # $
}!! 	
public## 
async## 
Task## 
<## 
User## 
>## 
BuscarPorNome##  -
(##- .
string##. 4
nome##5 9
)##9 :
{$$ 	
var%% 
user%% 
=%% 
await%% 
_context%% %
.%%% &
Usuarios%%& .
.%%. /
AsNoTracking%%/ ;
(%%; <
)%%< =
.%%= >
Where%%> C
(%%C D
x%%D E
=>%%F H
x%%I J
.%%J K
Nome%%K O
==%%P R
nome%%S W
)%%W X
.%%X Y
FirstOrDefaultAsync%%Y l
(%%l m
)%%m n
;%%n o
return&& 
user&& 
??&& 
null&& 
;&&  
}'' 	
public)) 
async)) 
Task)) 
<)) 
User)) 
>)) 
CadastrarUsuario))  0
())0 1
User))1 5
usuario))6 =
)))= >
{** 	
usuario++ 
.++ 
Senha++ 
=++ 
Settings++ $
.++$ %
Criptografia++% 1
(++1 2
usuario++2 9
.++9 :
Senha++: ?
)++? @
;++@ A
await,, 
_context,, 
.,, 
AddAsync,, #
(,,# $
usuario,,$ +
),,+ ,
;,,, -
return-- 
await-- 
_context-- !
.--! "
SaveChangesAsync--" 2
(--2 3
)--3 4
>--5 6
$num--7 8
?--9 :
usuario--; B
:--C D
null--E I
;--I J
}.. 	
public00 
async00 
Task00 
<00 
User00 
>00 
DeletarUsuario00  .
(00. /
User00/ 3
user004 8
)008 9
{11 	
_context22 
.22 
Remove22 
(22 
user22  
)22  !
;22! "
return33 
_context33 
.33 
SaveChangesAsync33 ,
(33, -
)33- .
.33. /
Result33/ 5
>336 7
$num338 9
?33: ;
user33< @
:33A B
null33C G
;33G H
}44 	
public66 
async66 
Task66 
<66 
IList66 
<66  
User66  $
>66$ %
>66% &
ListaUsuario66' 3
(663 4
)664 5
{77 	
var88 
user88 
=88 
await88 
_context88 %
.88% &
Usuarios88& .
.88. /
AsNoTracking88/ ;
(88; <
)88< =
.88= >
ToListAsync88> I
(88I J
)88J K
;88K L
return99 
user99 
??99 
null99 
;99  
}:: 	
public<< 
async<< 
Task<< 
<<< 
User<< 
><< 
Login<<  %
(<<% &
string<<& ,
usuario<<- 4
,<<4 5
string<<6 <
senha<<= B
)<<B C
{== 	
senha>> 
=>> 
Settings>> 
.>> 
Criptografia>> )
(>>) *
senha>>* /
)>>/ 0
;>>0 1
var?? 
user?? 
=?? 
await?? 
_context?? %
.??% &
Usuarios??& .
.??. /
AsNoTracking??/ ;
(??; <
)??< =
.??= >
Where??> C
(??C D
x??D E
=>??F H
x??I J
.??J K
Nome??K O
==??P R
usuario??S Z
&&??[ ]
x??^ _
.??_ `
Senha??` e
==??f h
senha??i n
)??n o
.??o p 
FirstOrDefaultAsync	??p É
(
??É Ñ
)
??Ñ Ö
;
??Ö Ü
return@@ 
user@@ 
??@@ 
null@@ 
;@@  
}AA 	
}BB 
}CC è
Yc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Services\TokenService.cs
	namespace		 	
Usuario		
 
.		 
API		 
.		 
Services		 
{

 
public 

static 
class 
TokenService $
{ 
public 
static 
string 
GenerateToken *
(* +
User+ /
user0 4
)4 5
{ 	
var 
tokenHandler 
= 
new "#
JwtSecurityTokenHandler# :
(: ;
); <
;< =
var 
key 
= 
Encoding 
. 
ASCII $
.$ %
GetBytes% -
(- .
Settings. 6
.6 7
Secret7 =
)= >
;> ?
var 
tokenDescriptor 
=  !
new" %#
SecurityTokenDescriptor& =
{ 
Subject 
= 
new 
ClaimsIdentity ,
(, -
new- 0
Claim1 6
[6 7
]7 8
{ 
new 
Claim 
( 

ClaimTypes (
.( )
Name) -
,- .
user/ 3
.3 4
Nome4 8
.8 9
ToString9 A
(A B
)B C
)C D
,D E
new 
Claim 
( 

ClaimTypes (
.( )
Role) -
,- .
user/ 3
.3 4
Role4 8
.8 9
ToString9 A
(A B
)B C
)C D
} 
) 
, 
Expires 
= 
DateTime "
." #
UtcNow# )
.) *
AddHours* 2
(2 3
$num3 4
)4 5
,5 6
SigningCredentials "
=# $
new% (
SigningCredentials) ;
(; <
new< ? 
SymmetricSecurityKey@ T
(T U
keyU X
)X Y
,Y Z
SecurityAlgorithms[ m
.m n 
HmacSha256Signature	n Å
)
Å Ç
} 
; 
tokenHandler 
. 
CreateToken $
($ %
tokenDescriptor% 4
)4 5
;5 6
var 
token 
= 
tokenHandler $
.$ %
CreateToken% 0
(0 1
tokenDescriptor1 @
)@ A
;A B
return 
tokenHandler 
.  

WriteToken  *
(* +
token+ 0
)0 1
;1 2
} 	
} 
}   Í+
Kc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Startup.cs
	namespace 	
Usuario
 
. 
API 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddDbContext !
<! "
DataContext" -
>- .
(. /
x/ 0
=>1 3
x4 5
.5 6
UseSqlServer6 B
(B C
ConfigurationC P
.P Q
GetConnectionStringQ d
(d e
$stre x
)x y
)y z
)z {
;{ |
services 
. 
	AddScoped 
< 
IRepositorioUsuario 2
,2 3
RepositorioUsuario4 F
>F G
(G H
)H I
;I J
services 
. 
AddCors 
( 
) 
; 
services 
. 
AddControllers #
(# $
)$ %
;% &
var   
key   
=   
Encoding   
.   
ASCII   $
.  $ %
GetBytes  % -
(  - .
Settings  . 6
.  6 7
Secret  7 =
)  = >
;  > ?
services!! 
.!! 
AddAuthentication!! &
(!!& '
x!!' (
=>!!) +
{"" 
x## 
.## %
DefaultAuthenticateScheme## +
=##, -
JwtBearerDefaults##. ?
.##? @ 
AuthenticationScheme##@ T
;##T U
x$$ 
.$$ "
DefaultChallengeScheme$$ (
=$$) *
JwtBearerDefaults$$+ <
.$$< = 
AuthenticationScheme$$= Q
;$$Q R
}%% 
)%% 
.%% 
AddJwtBearer%% 
(%% 
x%% 
=>%%  
{&& 
x'' 
.''  
RequireHttpsMetadata'' &
=''' (
false'') .
;''. /
x(( 
.(( 
	SaveToken(( 
=(( 
true(( "
;((" #
x)) 
.)) %
TokenValidationParameters)) +
=)), -
new)). 1%
TokenValidationParameters))2 K
{** $
ValidateIssuerSigningKey++ ,
=++- .
true++/ 3
,++3 4
IssuerSigningKey,, $
=,,% &
new,,' * 
SymmetricSecurityKey,,+ ?
(,,? @
key,,@ C
),,C D
,,,D E
ValidateIssuer-- "
=--# $
false--% *
,--* +
ValidateAudience.. $
=..% &
false..' ,
}// 
;// 
}00 
)00 
;00 
services22 
.22 
AddSwaggerGen22 "
(22" #
c22# $
=>22% '
{33 
c44 
.44 

SwaggerDoc44 
(44 
$str44 !
,44! "
new44# &
OpenApiInfo44' 2
{443 4
Title445 :
=44; <
$str44= J
,44J K
Version44L S
=44T U
$str44V Z
}44[ \
)44\ ]
;44] ^
}55 
)55 
;55 
}66 	
public88 
void88 
	Configure88 
(88 
IApplicationBuilder88 1
app882 5
,885 6
IWebHostEnvironment887 J
env88K N
)88N O
{99 	
if:: 
(:: 
env:: 
.:: 
IsDevelopment:: !
(::! "
)::" #
)::# $
{;; 
app<< 
.<< %
UseDeveloperExceptionPage<< -
(<<- .
)<<. /
;<</ 0
app== 
.== 

UseSwagger== 
(== 
)==  
;==  !
app>> 
.>> 
UseSwaggerUI>>  
(>>  !
c>>! "
=>>># %
c>>& '
.>>' (
SwaggerEndpoint>>( 7
(>>7 8
$str>>8 R
,>>R S
$str>>T d
)>>d e
)>>e f
;>>f g
}?? 
appAA 
.AA 

UseRoutingAA 
(AA 
)AA 
;AA 
appCC 
.CC 
UseCorsCC 
(CC 
optionsCC 
=>CC  "
{DD 
optionsEE 
.EE 
AllowAnyOriginEE &
(EE& '
)EE' (
;EE( )
optionsFF 
.FF 
AllowAnyMethodFF &
(FF& '
)FF' (
;FF( )
optionsGG 
.GG 
AllowAnyHeaderGG &
(GG& '
)GG' (
;GG( )
}HH 
)HH 
;HH 
appJJ 
.JJ 
UseEndpointsJJ 
(JJ 
	endpointsJJ &
=>JJ' )
{KK 
	endpointsLL 
.LL 
MapControllersLL (
(LL( )
)LL) *
;LL* +
}MM 
)MM 
;MM 
}NN 	
}OO 
}PP ≤
Qc:\Projetos\informa_dist\src\backend\informa\usuario\Usuario.API\Util\Settings.cs
	namespace 	
Usuario
 
. 
API 
. 
Util 
{ 
public 

static 
class 
Settings  
{ 
public 
readonly 
static 
string %
Secret& ,
=- .
GerarSenhaAleatoria/ B
(B C
)C D
;D E
public		 
static		 
string		 
Criptografia		 )
(		) *
string		* 0
texto		1 6
)		6 7
{

 	
return 
Convert 
. 
ToBase64String )
() *
Encoding* 2
.2 3
ASCII3 8
.8 9
GetBytes9 A
(A B
textoB G
)G H
)H I
;I J
} 	
private 
static 
string 
GerarSenhaAleatoria 1
(1 2
)2 3
{ 	
string 
chars 
= 
$str =
;= >
string 
pass 
= 
$str 
; 
Random 
random 
= 
new 
(  
)  !
;! "
for 
( 
int 
f 
= 
$num 
; 
f 
< 
$num  "
;" #
f$ %
++% '
)' (
{ 
pass 
+= 
chars 
. 
	Substring '
(' (
random( .
.. /
Next/ 3
(3 4
$num4 5
,5 6
chars7 <
.< =
Length= C
-D E
$numF G
)G H
,H I
$numJ K
)K L
;L M
} 
return 
pass 
; 
} 	
} 
} 